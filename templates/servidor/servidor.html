{% extends "base.html" %}

{% block title %}Servidor - Home | SICAT{% endblock %}


{% block nav %}
    <a href="{{ url_for('servidor_home') }}" class="nav-link {% if request.endpoint == 'servidor_home' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
            <path d="M2 15.0571H5V10.2C5 9.92476 5.096 9.69421 5.288 9.50834C5.48 9.32247 5.71733 9.22922 6 9.22857H10C10.2833 9.22857 10.521 9.32183 10.713 9.50834C10.905 9.69485 11.0007 9.92541 11 10.2V15.0571H14V6.31428L8 1.94286L2 6.31428V15.0571Z" fill="white"/>
        </svg>
        Home
    </a>

    <a href="{{ url_for('servidor_tutorias') }}" class="nav-link {% if request.endpoint == 'servidor_tutorias' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M6.29448 16.1972L0 8.5195L1.57362 6.60009L6.29448 12.3583L16.4264 0L18 1.91941L6.29448 16.1972Z" fill="white"/>
        </svg>
        Tutorias Marcadas
    </a>

    <a href="{{ url_for('servidor_pendentes') }}" class="nav-link {% if request.endpoint == 'servidor_pendentes' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L12 22M2 12L22 12" stroke="white" stroke-width="2"/>
        </svg>
        Tutorias Pendentes
    </a>

    <a href="{{ url_for('servidor_comunicacao') }}" class="nav-link {% if request.endpoint == 'servidor_comunicacao' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M21 15V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V15C3 16.1046 3.89543 17 5 17H19C20.1046 17 21 16.1046 21 15Z" stroke="white" stroke-width="2"/>
            <path d="M21 5L12 13L3 5" stroke="white" stroke-width="2"/>
        </svg>
        Comunica√ß√£o
    </a>

    <a href="{{ url_for('usuarios.cadastrar_disciplina') }}" class="nav-link {% if request.endpoint == 'usuarios.cadastrar_disciplina' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
        </svg>
        Disciplinas
    </a>

    <a href="{{ url_for('servidor_perfil') }}"
       class="nav-link {% if request.endpoint == 'aluno_perfil' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="24" viewBox="0 0 22 24" fill="none">
                <path d="M6.6 10.4775C6.91167 10.4775 7.1731 10.3658 7.3843 10.1423C7.5955 9.91873 7.70073 9.64244 7.7 9.31336C7.69927 8.98429 7.59367 8.708 7.3832 8.48448C7.17273 8.26095 6.91167 8.14919 6.6 8.14919C6.28833 8.14919 6.02727 8.26095 5.8168 8.48448C5.60633 8.708 5.50073 8.98429 5.5 9.31336C5.49927 9.64244 5.60487 9.91912 5.8168 10.1434C6.02873 10.3677 6.2898 10.4791 6.6 10.4775ZM11 10.4775C11.3117 10.4775 11.5731 10.3658 11.7843 10.1423C11.9955 9.91873 12.1007 9.64244 12.1 9.31336C12.0993 8.98429 11.9937 8.708 11.7832 8.48448C11.5727 8.26095 11.3117 8.14919 11 8.14919C10.6883 8.14919 10.4273 8.26095 10.2168 8.48448C10.0063 8.708 9.90073 8.98429 9.9 9.31336C9.89927 9.64244 10.0049 9.91912 10.2168 10.1434C10.4287 10.3677 10.6898 10.4791 11 10.4775ZM15.4 10.4775C15.7117 10.4775 15.9731 10.3658 16.1843 10.1423C16.3955 9.91873 16.5007 9.64244 16.5 9.31336C16.4993 8.98429 16.3937 8.708 16.1832 8.48448C15.9727 8.26095 15.7117 8.14919 15.4 8.14919C15.0883 8.14919 14.8273 8.26095 14.6168 8.48448C14.4063 8.708 14.3007 8.98429 14.3 9.31336C14.2993 9.64244 14.4049 9.91912 14.6168 10.1434C14.8287 10.3677 15.0898 10.4791 15.4 10.4775ZM0 23.2834V2.32834C0 1.68805 0.2156 1.14011 0.6468 0.684532C1.078 0.228954 1.59573 0.000776114 2.2 0H19.8C20.405 0 20.9231 0.228178 21.3543 0.684532C21.7855 1.14089 22.0007 1.68882 22 2.32834V16.2984C22 16.9387 21.7848 17.487 21.3543 17.9434C20.9238 18.3997 20.4057 18.6275 19.8 18.6267H4.4L0 23.2834ZM3.465 16.2984H19.8V2.32834H2.2V17.6081L3.465 16.2984Z" fill="#FEFEFE"/>
        </svg>
        Mudar Perfil
{% endblock %}

{% block user %}Servidor(a):{% endblock %}

{% block titulo_sessao %}Dashboard{% endblock %}

{% block content %}

<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-10">
    <div class="card-stats">
        <div class="flex justify-between items-center mb-2">
            <span class="text-gray-600 font-medium">Usu√°rios</span>
            <div class="icon-menu-stats"></div>
        </div>
        <h2 class="text-4xl font-bold">{{ status.usuarios }}</h2>
    </div>

    <div class="card-stats">
        <div class="flex justify-between items-center mb-2">
            <span class="text-gray-600 font-medium">Tutorias realizadas</span>
            <div class="icon-menu-stats"></div>
        </div>
        <h2 class="text-4xl font-bold">{{ status.tutorias }}</h2>
    </div>

    <div class="card-stats">
        <div class="flex justify-between items-center mb-2">
            <span class="text-gray-600 font-medium">Tutores</span>
            <div class="icon-menu-stats"></div>
        </div>
        <h2 class="text-4xl font-bold">{{ status.tutores }}</h2>
    </div>

    <div class="card-stats">
        <div class="flex justify-between items-center mb-2">
            <span class="text-gray-600 font-medium">Profs Orientadores</span>
            <div class="icon-menu-stats"></div>
        </div>
        <h2 class="text-4xl font-bold">{{ status.orientadores }}</h2>
    </div>
</div>

<div class="filtro-bar">
    <div class="relative flex-1">
        <input type="text" placeholder="Pesquisar" class="input-pesquisa w-full">
        <span class="absolute right-4 top-2.5 purple">üîç</span>
    </div>
    
    <select class="select-filtro">
        <option>Filtro</option>
    </select>

<div class="flex gap-8 p-4 bg-gray-50 rounded-xl border border-gray-100 w-fit">
    
    <div class="flex flex-col gap-2">
        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1">Entrada</span>
        <a href="{{ url_for('usuarios.gerenciar_lista', acao='promover', funcao_alvo='aluno') }}" 
           class="btn-nova bg-[#002E89] hover:scale-105 transition-transform flex justify-between items-center gap-4 min-w-[160px]">
            Promover Aluno <span class="opacity-50">+</span>
        </a>
        <a href="{{ url_for('usuarios.gerenciar_lista', acao='promover', funcao_alvo='professor') }}" 
           class="btn-nova bg-[#002E89] hover:scale-105 transition-transform flex justify-between items-center gap-4 min-w-[160px]">
            Promover Prof <span class="opacity-50">+</span>
        </a>
    </div>

    <div class="w-px bg-gray-200 self-stretch my-2"></div>

    <div class="flex flex-col gap-2">
        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1">Sa√≠da</span>
        <a href="{{ url_for('usuarios.gerenciar_lista', acao='despromover', funcao_alvo='tutor') }}" 
           class="btn-nova bg-[#84005E] hover:scale-105 transition-transform flex justify-between items-center gap-4 min-w-[160px]">
            Remover Tutor <span class="opacity-50">-</span>
        </a>
        <a href="{{ url_for('usuarios.gerenciar_lista', acao='despromover', funcao_alvo='professor_orientador') }}" 
           class="btn-nova bg-[#84005E] hover:scale-105 transition-transform flex justify-between items-center gap-4 min-w-[160px]">
            Remover Orient. <span class="opacity-50">-</span>
        </a>
    </div>
</div>

<div class="flex flex-col md:flex-row gap-8 items-start">
    <div class="flex-1 w-full">
        <h3 class="font-bold text-gray-700 mb-4">√öltimas atualiza√ß√µes</h3>
        
        <div class="space-y-3">
            {% for i in range(4) %}
            <div class="flex items-center justify-between bg-gray-100 p-3 rounded-lg border-l-4 border-[#84005E]">
                <div class="flex items-center gap-3">
                    <img src="https://via.placeholder.com/32" class="rounded-full" alt="">
                    <p class="text-sm"><strong>TUTOR (A) - Tiago</strong> adicionou uma nova sess√£o de tutoria! <strong>Assunto : rotas</strong></p>
                </div>
                <button class="text-[#002E89] px-2 text-xl">üëÅ</button>
            </div>
            {% endfor %}
        </div>
        
        <div class="w-full text-right mt-2">
            <button class="text-gray-500 text-sm hover:underline">ver mais</button>
        </div>
    </div>

    <div class="hidden lg:block w-1/3 pt-8">
        <img src="{{ url_for('static', filename='img/dashboard_illustration.svg') }}" alt="" class="w-full">
    </div>
</div>
{% endblock %}