
{% extends "base.html" %}

{% block title %}Tutor - Home{% endblock %}

{% block user %}
Tutor(a): 
{% endblock %}

{% block nav %} 
    <a href="{{ url_for('tutor_home') }}"
       class="nav-link {% if request.endpoint == 'tutor_home' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
            <path d="M2 15.0571H5V10.2C5 9.92476 5.096 9.69421 5.288 9.50834C5.48 9.32247 5.71733 9.22922 6 9.22857H10C10.2833 9.22857 10.521 9.32183 10.713 9.50834C10.905 9.69485 11.0007 9.92541 11 10.2V15.0571H14V6.31428L8 1.94286L2 6.31428V15.0571ZM0 15.0571V6.31428C0 6.00667 0.0709998 5.71524 0.213 5.44C0.355 5.16476 0.550667 4.93809 0.8 4.76L6.8 0.388571C7.15 0.129524 7.55 0 8 0C8.45 0 8.85 0.129524 9.2 0.388571L15.2 4.76C15.45 4.93809 15.646 5.16476 15.788 5.44C15.93 5.71524 16.0007 6.00667 16 6.31428V15.0571C16 15.5914 15.804 16.049 15.412 16.4298C15.02 16.8106 14.5493 17.0006 14 17H10C9.71666 17 9.47933 16.9067 9.288 16.7202C9.09666 16.5337 9.00066 16.3032 9 16.0286V11.1714H7V16.0286C7 16.3038 6.904 16.5347 6.712 16.7212C6.52 16.9077 6.28267 17.0006 6 17H2C1.45 17 0.979333 16.8099 0.588 16.4298C0.196666 16.0496 0.000666666 15.5921 0 15.0571Z" fill="white"/>
        </svg>
        Home
    </a>


    <a href="{{ url_for('tutor_pendentes') }}"
       class="nav-link {% if request.endpoint == 'tutor_pendentes' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
            <path d="M6.29448 16.1972L0 8.5195L1.57362 6.60009L6.29448 12.3583L16.4264 0L18 1.91941L6.29448 16.1972Z"fill="white"/>
        </svg>
        Tutorias Registradas
    </a>

    <a href="{{ url_for('tutor_historico') }}"
       class="nav-link {% if request.endpoint == 'tutor_historico' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
            <path d="M13.0263 22.1053C10.9079 22.1053 9.03328 21.4623 7.40243 20.1765C5.77158 18.8906 4.71237 17.247 4.2248 15.2456C4.15755 14.9934 4.20799 14.7624 4.37612 14.5526C4.54424 14.3428 4.77122 14.2207 5.05704 14.1864C5.32604 14.1528 5.56983 14.2032 5.7884 14.3377C6.00696 14.4722 6.15828 14.674 6.24234 14.943C6.64585 16.4561 7.47809 17.6919 8.73905 18.6502C10 19.6085 11.4291 20.0877 13.0263 20.0877C14.9934 20.0877 16.6623 19.4028 18.0329 18.0328C19.4035 16.6629 20.0884 14.9941 20.0877 13.0263C20.0871 11.0585 19.4021 9.39002 18.0329 8.02078C16.6636 6.65155 14.9948 5.96625 13.0263 5.96491C11.8662 5.96491 10.7818 6.23391 9.77304 6.77193C8.76427 7.30994 7.91522 8.0497 7.2259 8.99122H8.99125C9.27707 8.99122 9.51682 9.08806 9.7105 9.28175C9.90419 9.47543 10.0007 9.71485 10 9.99999C9.99935 10.2851 9.9025 10.5249 9.70949 10.7192C9.51648 10.9136 9.27707 11.0101 8.99125 11.0088H4.95616C4.67034 11.0088 4.43093 10.9119 4.23791 10.7182C4.0449 10.5246 3.94806 10.2851 3.94739 9.99999V5.96491C3.94739 5.67909 4.04423 5.43967 4.23791 5.24666C4.4316 5.05365 4.67101 4.95681 4.95616 4.95614C5.24131 4.95546 5.48106 5.05231 5.67541 5.24666C5.86977 5.44102 5.96628 5.68043 5.96493 5.96491V7.32675C6.82239 6.25073 7.86916 5.41849 9.10524 4.83004C10.3413 4.24159 11.6484 3.94736 13.0263 3.94736C14.2873 3.94736 15.4686 4.18712 16.5701 4.66662C17.6717 5.14612 18.6301 5.79308 19.4451 6.6075C20.2602 7.42191 20.9075 8.38024 21.387 9.48249C21.8665 10.5847 22.106 11.766 22.1053 13.0263C22.1046 14.2866 21.8652 15.4679 21.387 16.5701C20.9089 17.6724 20.2616 18.6307 19.4451 19.4451C18.6287 20.2595 17.6704 20.9068 16.5701 21.387C15.4699 21.8672 14.2886 22.1066 13.0263 22.1053ZM14.0351 12.6228L16.557 15.1447C16.742 15.3297 16.8344 15.5651 16.8344 15.8509C16.8344 16.1367 16.742 16.3721 16.557 16.557C16.3721 16.742 16.1367 16.8344 15.8509 16.8344C15.5651 16.8344 15.3297 16.742 15.1448 16.557L12.3202 13.7324C12.2193 13.6316 12.1437 13.5183 12.0932 13.3925C12.0428 13.2667 12.0176 13.1363 12.0176 13.0011V8.99122C12.0176 8.7054 12.1144 8.46599 12.3081 8.27298C12.5018 8.07997 12.7412 7.98312 13.0263 7.98245C13.3115 7.98178 13.5512 8.07862 13.7456 8.27298C13.9399 8.46733 14.0365 8.70675 14.0351 8.99122V12.6228Z" fill="white"/>
        </svg>
        Histórico
    </a>

    <a href="{{ url_for('tutor_comunicacao') }}"
       class="nav-link {% if request.endpoint == 'tutor_comunicacao' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="24" viewBox="0 0 22 24" fill="none">
            <path d="M6.6 10.4775C6.91167 10.4775 7.1731 10.3658 7.3843 10.1423C7.5955 9.91873 7.70073 9.64244 7.7 9.31336C7.69927 8.98429 7.59367 8.708 7.3832 8.48448C7.17273 8.26095 6.91167 8.14919 6.6 8.14919C6.28833 8.14919 6.02727 8.26095 5.8168 8.48448C5.60633 8.708 5.50073 8.98429 5.5 9.31336C5.49927 9.64244 5.60487 9.91912 5.8168 10.1434C6.02873 10.3677 6.2898 10.4791 6.6 10.4775ZM11 10.4775C11.3117 10.4775 11.5731 10.3658 11.7843 10.1423C11.9955 9.91873 12.1007 9.64244 12.1 9.31336C12.0993 8.98429 11.9937 8.708 11.7832 8.48448C11.5727 8.26095 11.3117 8.14919 11 8.14919C10.6883 8.14919 10.4273 8.26095 10.2168 8.48448C10.0063 8.708 9.90073 8.98429 9.9 9.31336C9.89927 9.64244 10.0049 9.91912 10.2168 10.1434C10.4287 10.3677 10.6898 10.4791 11 10.4775ZM15.4 10.4775C15.7117 10.4775 15.9731 10.3658 16.1843 10.1423C16.3955 9.91873 16.5007 9.64244 16.5 9.31336C16.4993 8.98429 16.3937 8.708 16.1832 8.48448C15.9727 8.26095 15.7117 8.14919 15.4 8.14919C15.0883 8.14919 14.8273 8.26095 14.6168 8.48448C14.4063 8.708 14.3007 8.98429 14.3 9.31336C14.2993 9.64244 14.4049 9.91912 14.6168 10.1434C14.8287 10.3677 15.0898 10.4791 15.4 10.4775ZM0 23.2834V2.32834C0 1.68805 0.2156 1.14011 0.6468 0.684532C1.078 0.228954 1.59573 0.000776114 2.2 0H19.8C20.405 0 20.9231 0.228178 21.3543 0.684532C21.7855 1.14089 22.0007 1.68882 22 2.32834V16.2984C22 16.9387 21.7848 17.487 21.3543 17.9434C20.9238 18.3997 20.4057 18.6275 19.8 18.6267H4.4L0 23.2834ZM3.465 16.2984H19.8V2.32834H2.2V17.6081L3.465 16.2984Z" fill="#FEFEFE"/>
        </svg>
        Comunicação
    </a>

    <a href="{{ url_for('tutor_perfil') }}"
       class="nav-link {% if request.endpoint == 'tutor_perfil' %}active{% endif %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="24" viewBox="0 0 22 24" fill="none">
            <path d="M6.6 10.4775C6.91167 10.4775 7.1731 10.3658 7.3843 10.1423C7.5955 9.91873 7.70073 9.64244 7.7 9.31336C7.69927 8.98429 7.59367 8.708 7.3832 8.48448C7.17273 8.26095 6.91167 8.14919 6.6 8.14919C6.28833 8.14919 6.02727 8.26095 5.8168 8.48448C5.60633 8.708 5.50073 8.98429 5.5 9.31336C5.49927 9.64244 5.60487 9.91912 5.8168 10.1434C6.02873 10.3677 6.2898 10.4791 6.6 10.4775ZM11 10.4775C11.3117 10.4775 11.5731 10.3658 11.7843 10.1423C11.9955 9.91873 12.1007 9.64244 12.1 9.31336C12.0993 8.98429 11.9937 8.708 11.7832 8.48448C11.5727 8.26095 11.3117 8.14919 11 8.14919C10.6883 8.14919 10.4273 8.26095 10.2168 8.48448C10.0063 8.708 9.90073 8.98429 9.9 9.31336C9.89927 9.64244 10.0049 9.91912 10.2168 10.1434C10.4287 10.3677 10.6898 10.4791 11 10.4775ZM15.4 10.4775C15.7117 10.4775 15.9731 10.3658 16.1843 10.1423C16.3955 9.91873 16.5007 9.64244 16.5 9.31336C16.4993 8.98429 16.3937 8.708 16.1832 8.48448C15.9727 8.26095 15.7117 8.14919 15.4 8.14919C15.0883 8.14919 14.8273 8.26095 14.6168 8.48448C14.4063 8.708 14.3007 8.98429 14.3 9.31336C14.2993 9.64244 14.4049 9.91912 14.6168 10.1434C14.8287 10.3677 15.0898 10.4791 15.4 10.4775ZM0 23.2834V2.32834C0 1.68805 0.2156 1.14011 0.6468 0.684532C1.078 0.228954 1.59573 0.000776114 2.2 0H19.8C20.405 0 20.9231 0.228178 21.3543 0.684532C21.7855 1.14089 22.0007 1.68882 22 2.32834V16.2984C22 16.9387 21.7848 17.487 21.3543 17.9434C20.9238 18.3997 20.4057 18.6275 19.8 18.6267H4.4L0 23.2834ZM3.465 16.2984H19.8V2.32834H2.2V17.6081L3.465 16.2984Z" fill="#FEFEFE"/>
        </svg>
        Perfil
    </a>
{% endblock %} 



{% block content %}

<!-- CARD + ILUSTRAÇÃO -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center mb-10">

    <div class="bg-white border-[3px] border-blue-900 rounded-[32px] p-8 text-center shadow-md w-full max-w-xl">

    <!-- Título com ícone -->
    <div class="flex items-center gap-2 text-gray-700 mb-6 test">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="22" height="22"
             viewBox="0 0 24 24"
             fill="none"
             stroke="#960176"
             stroke-width="2"
             stroke-linecap="round"
             stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
        </svg>

        <span class="text-base font-medium">Tutorias</span>
    </div>

    <!-- Conteúdo -->
    <p class="text-lg text-blue-900 mb-4">Você registrou</p>

    <p class="text-6xl font-bold text-blue-600 mb-4">5</p>

    <p class="text-lg text-blue-900">
        atividades de tutorias este mês!
    </p>
</div>

    <img src="{{ url_for('static', filename='img/tutor.svg') }}" class="w-full max-w-md mx-auto">
</div>

<!-- SAUDAÇÃO -->
<h2 class="text-xl mb-6">
    Olá, <span class="purple font-semibold">Ana</span>
</h2>

<!-- BUSCA / FILTRO / BOTÃO -->
<div class="filtro-bar">

    <input type="text" placeholder="Pesquisar" 
           class="input-pesquisa">

    <select class="select-filtro">
        <option>Filtro</option>
    </select>

    <button class="btn-nova" onclick="abrirModal()">
        Nova atividade de tutoria +
    </button>
</div>

<!-- SOLICITAÇÕES -->
<section class="mb-8">
    <h3 class="font-semibold mb-4">Solicitações</h3>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex items-center justify-between mb-2">

    <!-- Ícone + texto -->
    <div class="flex items-center gap-2 text-sm">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="12" height="12"
             viewBox="0 0 12 12" fill="none">
            <circle cx="6" cy="6" r="6" fill="#1D5B00"/>
        </svg>

        <span>Gabryela solicitou uma tutoria para 01/02/2026</span>
    </div>

    <!-- Imagem -->
    <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">

</div>

</section>

<!-- COMUNICAÇÃO -->
<section>
    <h3 class="font-semibold mb-4">Comunicação</h3>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex justify-between mb-2">
        <span><strong>ETEP</strong> — Envio de documentação</span>
        <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">
    </div>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex justify-between">
        <span><strong>PROFESSOR(A)</strong> — Preciso de auxílio na próxima aula</span>
        <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">
    </div>
</section>

<!-- MODAL -->
<div id="modalTutoria" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">

    <div class="bg-white w-full max-w-xl rounded-2xl border-2 border-pink-600 p-6 relative">

        <!-- Título -->
        <h2 class="text-lg font-semibold text-pink-700 mb-4">
            Registro de atividade de tutoria
        </h2>

        <!-- Botão fechar -->
        <button onclick="fecharModal()" class="absolute top-4 right-4 text-xl">
            ✕
        </button>

        <!-- Conteúdo -->
        <form action="{{ url_for('tutoria.registrar_atividade') }}" method="POST">
            <div class="bg-gray-100 rounded-xl p-4 space-y-3 text-sm">
                <div>
                    <label class="font-medium">Para quem vai ser a atividade?</label>
                    <select id="tipoAtividade" name="tipo_atividade" onchange="toggleMatricula()" class="w-full px-4 py-2 border rounded-lg" required>
                        <option value="">Selecione</option>
                        <option value="aluno">Aluno</option>
                        <option value="professor">Professor</option>
                    </select>
                    
                    <input id="nomeAluno" name="nome_pessoa" type="text" class="w-full mt-2 p-2 rounded-lg border hidden" placeholder="Nome do aluno">
                </div>

                <div id="campoMatricula" class="mb-4 hidden">
                    <label class="block text-sm font-medium mb-1">Matrícula do aluno</label>
                    <input type="text" name="matricula" placeholder="Digite a matrícula" class="w-full px-4 py-2 border rounded-lg">
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-1">Data e horário</label>
                    <input type="datetime-local" name="data_horario" class="w-full px-4 py-2 border rounded-lg" required>
                </div>

                <div>
                    <label class="font-medium">Descrição:</label>
                    <textarea name="descricao" class="w-full mt-1 p-2 rounded-lg border"></textarea>
                </div>
            </div>

            <div class="flex justify-center gap-4 mt-6">
                <button type="submit" class="btn-nova">Registrar</button>
                <button type="button" onclick="fecharModal()" class="bg-red-600 text-white px-6 py-2 rounded-lg">Cancelar</button>
            </div>
        </form>

    </div>
</div>

<script>
function abrirModal() {
    document.getElementById("modalTutoria").classList.remove("hidden");
    document.getElementById("modalTutoria").classList.add("flex");
}

function fecharModal() {
    document.getElementById("modalTutoria").classList.add("hidden");
    document.getElementById("modalTutoria").classList.remove("flex");
}

function toggleMatricula() {
    const tipo = document.getElementById("tipoAtividade").value;

    const campoMatricula = document.getElementById("campoMatricula");
    const nomeAluno = document.getElementById("nomeAluno");
    const nomeProfessor = document.getElementById("nomeProfessor");

    campoMatricula.classList.add("hidden");
    nomeAluno.classList.add("hidden");
    nomeProfessor.classList.add("hidden");

    if (tipo === "aluno") {
        campoMatricula.classList.remove("hidden");
        nomeAluno.classList.remove("hidden");
    }

    if (tipo === "professor") {
        nomeProfessor.classList.remove("hidden");
    }
}
</script>


{% endblock %}
